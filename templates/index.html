<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ZEN AI</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* ========== CSS Variables ========== */
        :root {
            --bg-color: #FFFFFF;
            --text-color: #1a1a1a;
            --text-secondary: #666666;
            --chat-bg: rgba(0, 0, 0, 0.02);
            --user-bubble: #007AFF;
            --user-bubble-text: #FFFFFF;
            --bot-bubble: rgba(0, 0, 0, 0.06);
            --bot-bubble-text: #1a1a1a;
            --input-bg: rgba(0, 0, 0, 0.04);
            --input-border: rgba(0, 0, 0, 0.1);
            --input-glow: rgba(0, 122, 255, 0.3);
            --shadow: rgba(0, 0, 0, 0.1);
            --glass-bg: rgba(255, 255, 255, 0.8);
            --neon-glow: rgba(0, 122, 255, 0.4);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        [data-theme="dark"] {
            --bg-color: #000000;
            --text-color: #FFFFFF;
            --text-secondary: #888888;
            --chat-bg: rgba(255, 255, 255, 0.02);
            --user-bubble: #007AFF;
            --user-bubble-text: #FFFFFF;
            --bot-bubble: rgba(255, 255, 255, 0.08);
            --bot-bubble-text: #FFFFFF;
            --input-bg: rgba(255, 255, 255, 0.06);
            --input-border: rgba(255, 255, 255, 0.15);
            --input-glow: rgba(0, 122, 255, 0.5);
            --shadow: rgba(0, 0, 0, 0.5);
            --glass-bg: rgba(0, 0, 0, 0.6);
            --neon-glow: rgba(0, 122, 255, 0.6);
        }
        /* ========== Reset & Base ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body {
            height: 100%;
            overflow: hidden;
        }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: var(--transition);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* ========== Header ========== */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 20px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--input-border);
        }
        .brand {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: 2px;
            background: linear-gradient(135deg, var(--text-color), var(--user-bubble));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-transform: uppercase;
        }
        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        .brand-text {
            font-size: 18px;
            font-weight: 600;
            letter-spacing: 3px;
            background: linear-gradient(135deg, var(--text-color) 0%, var(--user-bubble) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-transform: uppercase;
        }
        /* ========== Theme Toggle ========== */
        .theme-toggle {
            width: 52px;
            height: 28px;
            background: var(--input-bg);
            border: 1px solid var(--input-border);
            border-radius: 14px;
            position: relative;
            cursor: pointer;
            transition: var(--transition);
        }
        .theme-toggle:hover {
            border-color: var(--input-glow);
            box-shadow: 0 0 20px var(--input-glow);
        }
        .theme-toggle::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 22px;
            height: 22px;
            background: var(--user-bubble);
            border-radius: 50%;
            transition: var(--transition);
        }
        [data-theme="dark"] .theme-toggle::before {
            transform: translateX(24px);
        }
        /* ========== Main Container ========== */
        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            max-width: 900px;
            margin: 0 auto;
            padding-top: 70px;
        }
        /* ========== Chat Messages ========== */
        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px 16px;
            scroll-behavior: smooth;
        }
        .chat-container::-webkit-scrollbar {
            width: 6px;
        }
        .chat-container::-webkit-scrollbar-track {
            background: transparent;
        }
        .chat-container::-webkit-scrollbar-thumb {
            background: var(--input-border);
            border-radius: 3px;
        }
        .messages {
            display: flex;
            flex-direction: column;
            gap: 12px;
            min-height: 100%;
        }
        .message {
            display: flex;
            opacity: 0;
            transform: translateY(20px);
            animation: messageIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
        .message.user {
            justify-content: flex-end;
        }
        .message.bot {
            justify-content: flex-start;
        }
        @keyframes messageIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .message.user .message-bubble {
            animation: slideInRight 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .message.bot .message-bubble {
            animation: slideInLeft 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        .message-bubble {
            max-width: 80%;
            padding: 14px 18px;
            border-radius: 20px;
            font-size: 15px;
            line-height: 1.5;
            word-wrap: break-word;
            box-shadow: 0 2px 12px var(--shadow);
            transition: var(--transition);
        }
        .message.user .message-bubble {
            background: linear-gradient(135deg, var(--user-bubble) 0%, #0056D6 100%);
            color: var(--user-bubble-text);
            border-bottom-right-radius: 6px;
        }
        .message.user .message-bubble:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 20px var(--neon-glow);
        }
        .message.bot .message-bubble {
            background: var(--bot-bubble);
            color: var(--bot-bubble-text);
            border-bottom-left-radius: 6px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        .message.bot .message-bubble:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 20px var(--shadow);
        }
        /* ========== Typing Indicator ========== */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 16px 20px;
            background: var(--bot-bubble);
            border-radius: 20px;
            border-bottom-left-radius: 6px;
            max-width: 80px;
            box-shadow: 0 2px 12px var(--shadow);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        .typing-indicator.hidden {
            display: none;
        }
        .dot {
            width: 8px;
            height: 8px;
            background: var(--user-bubble);
            border-radius: 50%;
            animation: typingAnimation 1.4s ease-in-out infinite;
        }
        .dot:nth-child(1) {
            animation-delay: 0s;
        }
        .dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        .dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        .dot:nth-child(4) {
            animation-delay: 0.6s;
        }
        @keyframes typingAnimation {
            0%, 80%, 100% {
                transform: scale(0.6);
                opacity: 0.4;
            }
            40% {
                transform: scale(1);
                opacity: 1;
                box-shadow: 0 0 10px var(--input-glow);
            }
        }
        /* ========== Input Area ========== */
        .input-container {
            padding: 16px 20px 24px 20px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid var(--input-border);
        }
        .input-wrapper {
            display: flex;
            align-items: flex-end;
            gap: 12px;
            max-width: 900px;
            margin: 0 auto;
            background: var(--input-bg);
            border: 2px solid var(--input-border);
            border-radius: 28px;
            padding: 8px 12px;
            transition: var(--transition);
        }
        .input-wrapper:focus-within {
            border-color: var(--user-bubble);
            box-shadow: 0 0 25px var(--input-glow), inset 0 0 15px rgba(0, 122, 255, 0.1);
        }
        .input-wrapper:hover {
            border-color: var(--user-bubble);
            box-shadow: 0 0 15px var(--input-glow);
        }
        textarea {
            flex: 1;
            background: transparent;
            border: none;
            outline: none;
            color: var(--text-color);
            font-size: 16px;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.5;
            resize: none;
            min-height: 24px;
            max-height: 120px;
            padding: 8px 4px;
            overflow-y: auto;
        }
        textarea::placeholder {
            color: var(--text-secondary);
        }
        textarea::-webkit-scrollbar {
            width: 4px;
        }
        textarea::-webkit-scrollbar-thumb {
            background: var(--input-border);
            border-radius: 2px;
        }
        .send-button {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, var(--user-bubble) 0%, #0056D6 100%);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            flex-shrink: 0;
            box-shadow: 0 4px 15px var(--neon-glow);
        }
        .send-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px var(--neon-glow);
        }
        .send-button:active {
            transform: scale(0.95);
        }
        .send-button svg {
            width: 20px;
            height: 20px;
            fill: white;
            transition: var(--transition);
        }
        .send-button:hover svg {
            transform: translateX(2px);
        }
        /* ========== Responsive Design ========== */
        @media (max-width: 768px) {
            .header {
                padding: 16px 20px;
            }
            .brand-text {
                font-size: 16px;
                letter-spacing: 2px;
            }
            .message-bubble {
                max-width: 85%;
                font-size: 14px;
                padding: 12px 16px;
            }
            .input-container {
                padding: 12px 16px 20px 16px;
            }
            .send-button {
                width: 40px;
                height: 40px;
            }
            .send-button svg {
                width: 18px;
                height: 18px;
            }
        }
        @media (max-width: 480px) {
            .header {
                padding: 14px 16px;
            }
            .brand-text {
                font-size: 14px;
                letter-spacing: 1.5px;
            }
            .theme-toggle {
                width: 46px;
                height: 24px;
            }
            .theme-toggle::before {
                width: 18px;
                height: 18px;
            }
            [data-theme="dark"] .theme-toggle::before {
                transform: translateX(22px);
            }
            .message-bubble {
                max-width: 90%;
                font-size: 14px;
                padding: 10px 14px;
            }
            .input-wrapper {
                padding: 6px 10px;
            }
            textarea {
                font-size: 15px;
                padding: 6px 2px;
            }
            .input-container {
                padding: 10px 14px env(safe-area-inset-bottom) 16px 14px;
            }
        }
        /* ========== Keyboard Safe Area ========== */
        @supports (padding: max(0px)) {
            .input-container {
                padding-bottom: max(24px, env(safe-area-inset-bottom));
            }
        }
        /* ========== Welcome Message ========== */
        .welcome-message {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-secondary);
        }
        .welcome-message h2 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--text-color);
        }
        .welcome-message p {
            font-size: 16px;
            line-height: 1.6;
        }
        @media (max-width: 480px) {
            .welcome-message h2 {
                font-size: 24px;
            }
            .welcome-message p {
                font-size: 14px;
            }
        }
        /* ========== Smooth Animations ========== */
        * {
            -webkit-tap-highlight-color: transparent;
        }
        button {
            -webkit-tap-highlight-color: transparent;
            tap-highlight-color: transparent;
        }
        /* ========== Performance Optimization ========== */
        .message,
        .typing-indicator,
        .input-wrapper,
        .theme-toggle {
            will-change: transform;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="brand"></div>
        <div class="header-right">
            <span class="brand-text">ZEN AI</span>
            <div class="theme-toggle" id="themeToggle" title="Toggle theme"></div>
        </div>
    </header>
    <!-- Main Container -->
    <div class="container">
        <!-- Chat Messages -->
        <div class="chat-container" id="chatContainer">
            <div class="messages" id="messages">
                <!-- Welcome Message -->
                <div class="welcome-message" id="welcomeMessage">
                    <h2>Welcome to ZEN AI</h2>
                    <p>Start a conversation and experience the future of AI.</p>
                </div>
            </div>
        </div>
        <!-- Input Area -->
        <div class="input-container">
            <div class="input-wrapper">
                <textarea 
                    id="messageInput" 
                    placeholder="Type your message..." 
                    rows="1"
                ></textarea>
                <button class="send-button" id="sendButton" title="Send message">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <script>
        // ========== DOM Elements ==========
        const themeToggle = document.getElementById('themeToggle');
        const messageInput = document.getElementById('messageInput');
        const sendButton = document.getElementById('sendButton');
        const messagesContainer = document.getElementById('messages');
        const chatContainer = document.getElementById('chatContainer');
        const welcomeMessage = document.getElementById('welcomeMessage');
        // ========== Theme Toggle ==========
        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
        }
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            setTheme(newTheme);
        }
        // Initialize theme
        const savedTheme = localStorage.getItem('theme') || 
                          (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        setTheme(savedTheme);
        themeToggle.addEventListener('click', toggleTheme);
        // ========== Auto-resize Textarea ==========
        function autoResizeTextarea() {
            messageInput.style.height = 'auto';
            const newHeight = Math.min(messageInput.scrollHeight, 120);
            messageInput.style.height = newHeight + 'px';
        }
        messageInput.addEventListener('input', autoResizeTextarea);
        // ========== Send Message ==========
        function sendMessage() {
            const message = messageInput.value.trim();
            
            if (!message) return;
            // Hide welcome message
            if (welcomeMessage) {
                welcomeMessage.style.display = 'none';
            }
            // Add user message
            addMessage(message, 'user');
            // Clear input
            messageInput.value = '';
            autoResizeTextarea();
            // Show typing indicator
            showTypingIndicator();
            // Simulate bot response
            setTimeout(() => {
                hideTypingIndicator();
                const botResponse = generateBotResponse(message);
                addMessage(botResponse, 'bot');
            }, 1500 + Math.random() * 1000);
        }
        function addMessage(text, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            
            const bubble = document.createElement('div');
            bubble.className = 'message-bubble';
            bubble.textContent = text;
            
            messageDiv.appendChild(bubble);
            messagesContainer.appendChild(messageDiv);
            
            // Scroll to bottom
            scrollToBottom();
        }
        // ========== Typing Indicator ==========
        let typingIndicator = null;
        function showTypingIndicator() {
            if (typingIndicator) return;
            const indicatorDiv = document.createElement('div');
            indicatorDiv.className = 'message bot';
            
            const indicator = document.createElement('div');
            indicator.className = 'typing-indicator';
            
            for (let i = 0; i < 4; i++) {
                const dot = document.createElement('div');
                dot.className = 'dot';
                indicator.appendChild(dot);
            }
            
            indicatorDiv.appendChild(indicator);
            messagesContainer.appendChild(indicatorDiv);
            typingIndicator = indicatorDiv;
            
            scrollToBottom();
        }
        function hideTypingIndicator() {
            if (typingIndicator) {
                typingIndicator.remove();
                typingIndicator = null;
            }
        }
        // ========== Scroll to Bottom ==========
        function scrollToBottom() {
            setTimeout(() => {
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 100);
        }
        // ========== Generate Bot Response ==========
        function generateBotResponse(userMessage) {
            const responses = [
                "I understand your question. Let me help you with that.",
                "That's a great point! Here's what I think...",
                "I'm processing your request. Here's my response.",
                "Interesting question! Let me elaborate on that.",
                "Thanks for asking! Here's what you need to know.",
                "I've analyzed your input. Here are my thoughts.",
                "Great question! Here's a detailed explanation.",
                "I appreciate your curiosity. Let me explain.",
                "That's a thoughtful question. Here's my perspective.",
                "I'm here to help! Let me address your concern."
            ];
            return responses[Math.floor(Math.random() * responses.length)];
        }
        // ========== Event Listeners ==========
        sendButton.addEventListener('click', sendMessage);
        messageInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });
        // ========== Initial Focus ==========
        messageInput.focus();
        // ========== Handle Keyboard Open on Mobile ==========
        const visualViewport = window.visualViewport;
        if (visualViewport) {
            visualViewport.addEventListener('resize', () => {
                document.body.style.height = visualViewport.height + 'px';
                scrollToBottom();
            });
        }
        // ========== Smooth Scroll on Load ==========
        window.addEventListener('load', () => {
            scrollToBottom();
        });
    </script>
</body>
</html>